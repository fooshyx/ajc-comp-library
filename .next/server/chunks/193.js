exports.id=193,exports.ids=[193],exports.modules={1683:(a,b,c)=>{Promise.resolve().then(c.bind(c,82935)),Promise.resolve().then(c.bind(c,24597)),Promise.resolve().then(c.bind(c,27721))},19717:(a,b,c)=>{"use strict";c.d(b,{W:()=>h});let d={getUnits:()=>[],saveUnits:a=>{},getTraits:()=>[],saveTraits:a=>{},getComponents:()=>[],saveComponents:a=>{},getItems:()=>[],saveItems:a=>{}},e="/api",f={generateId:()=>Date.now().toString(36)+Math.random().toString(36).substr(2),getTraits:async()=>{try{let a=await fetch(`${e}/traits`);if(!a.ok)throw Error("Failed to fetch traits");return await a.json()}catch(a){return console.error("Error fetching traits:",a),[]}},saveTrait:async a=>{try{let b={...a,id:f.generateId()},c=await fetch(`${e}/traits`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error("Failed to save trait");return await c.json()}catch(a){return console.error("Error saving trait:",a),null}},updateTrait:async a=>{try{let b=await fetch(`${e}/traits`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)throw Error("Failed to update trait");return await b.json()}catch(a){return console.error("Error updating trait:",a),null}},deleteTrait:async a=>{try{return(await fetch(`${e}/traits?id=${a}`,{method:"DELETE"})).ok}catch(a){return console.error("Error deleting trait:",a),!1}},getUnits:async()=>{try{let a=await fetch(`${e}/units`);if(!a.ok)throw Error("Failed to fetch units");return await a.json()}catch(a){return console.error("Error fetching units:",a),[]}},saveUnit:async a=>{try{let b={...a,id:f.generateId()},c=await fetch(`${e}/units`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error("Failed to save unit");return await c.json()}catch(a){return console.error("Error saving unit:",a),null}},updateUnit:async a=>{try{let b=await fetch(`${e}/units`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)throw Error("Failed to update unit");return await b.json()}catch(a){return console.error("Error updating unit:",a),null}},deleteUnit:async a=>{try{return(await fetch(`${e}/units?id=${a}`,{method:"DELETE"})).ok}catch(a){return console.error("Error deleting unit:",a),!1}},getComponents:async()=>{try{let a=await fetch(`${e}/components`);if(!a.ok)throw Error("Failed to fetch components");return await a.json()}catch(a){return console.error("Error fetching components:",a),[]}},saveComponent:async a=>{try{let b={...a,id:f.generateId()},c=await fetch(`${e}/components`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error("Failed to save component");return await c.json()}catch(a){return console.error("Error saving component:",a),null}},updateComponent:async a=>{try{let b=await fetch(`${e}/components`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)throw Error("Failed to update component");return await b.json()}catch(a){return console.error("Error updating component:",a),null}},deleteComponent:async a=>{try{return(await fetch(`${e}/components?id=${a}`,{method:"DELETE"})).ok}catch(a){return console.error("Error deleting component:",a),!1}},getItems:async()=>{try{let a=await fetch(`${e}/items`);if(!a.ok)throw Error("Failed to fetch items");return await a.json()}catch(a){return console.error("Error fetching items:",a),[]}},saveItem:async a=>{try{let b={...a,id:f.generateId()},c=await fetch(`${e}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error("Failed to save item");return await c.json()}catch(a){return console.error("Error saving item:",a),null}},updateItem:async a=>{try{let b=await fetch(`${e}/items`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)throw Error("Failed to update item");return await b.json()}catch(a){return console.error("Error updating item:",a),null}},deleteItem:async a=>{try{return(await fetch(`${e}/items?id=${a}`,{method:"DELETE"})).ok}catch(a){return console.error("Error deleting item:",a),!1}}};class g{getCacheMetadata(a){if(!this.isClient)return null;try{let b=localStorage.getItem(`${a}_metadata`);return b?JSON.parse(b):null}catch{return null}}setCacheMetadata(a,b){if(this.isClient)try{localStorage.setItem(`${a}_metadata`,JSON.stringify(b))}catch{}}isCacheValid(a){let b=this.getCacheMetadata(a);if(!b)return!1;let c=Date.now(),d=new Date(b.lastUpdated).getTime(),e=1===b.version;return c-d<36e5&&e}updateCacheMetadata(a){this.setCacheMetadata(a,{lastUpdated:new Date().toISOString(),version:1})}async getUnits(){try{if(this.isClient&&this.isCacheValid("units")){let a=d.getUnits();if(a.length>0)return a}let a=await f.getUnits();return this.isClient&&(d.saveUnits(a),this.updateCacheMetadata("units")),a}catch(a){if(console.error("Error fetching units:",a),this.isClient)return d.getUnits();return[]}}async getTraits(){try{if(this.isClient&&this.isCacheValid("traits")){let a=d.getTraits();if(a.length>0)return a}let a=await f.getTraits();return this.isClient&&(d.saveTraits(a),this.updateCacheMetadata("traits")),a}catch(a){if(console.error("Error fetching traits:",a),this.isClient)return d.getTraits();return[]}}async getComponents(){try{if(this.isClient&&this.isCacheValid("components")){let a=d.getComponents();if(a.length>0)return a}let a=await f.getComponents();return this.isClient&&(d.saveComponents(a),this.updateCacheMetadata("components")),a}catch(a){if(console.error("Error fetching components:",a),this.isClient)return d.getComponents();return[]}}async getItems(){try{if(this.isClient&&this.isCacheValid("items")){let a=d.getItems();if(a.length>0)return a}let a=await f.getItems();return this.isClient&&(d.saveItems(a),this.updateCacheMetadata("items")),a}catch(a){if(console.error("Error fetching items:",a),this.isClient)return d.getItems();return[]}}async getAllGameData(){try{if(this.isClient&&this.isCacheValid("units")&&this.isCacheValid("traits")&&this.isCacheValid("components")&&this.isCacheValid("items")){let a=d.getUnits(),b=d.getTraits(),c=d.getComponents(),e=d.getItems();if(a.length>0&&b.length>0&&c.length>0&&e.length>0)return{units:a,traits:b,components:c,items:e}}let[a,b,c,e]=await Promise.all([f.getUnits(),f.getTraits(),f.getComponents(),f.getItems()]);return this.isClient&&(d.saveUnits(a),d.saveTraits(b),d.saveComponents(c),d.saveItems(e),this.updateCacheMetadata("units"),this.updateCacheMetadata("traits"),this.updateCacheMetadata("components"),this.updateCacheMetadata("items")),{units:a,traits:b,components:c,items:e}}catch(a){if(console.error("Error fetching all game data:",a),this.isClient)return{units:d.getUnits(),traits:d.getTraits(),components:d.getComponents(),items:d.getItems()};return{units:[],traits:[],components:[],items:[]}}}async getCompositions(a,b){try{let c=new URLSearchParams;a&&c.set("userId",a),b&&c.set("public","true");let d=await fetch(`/api/compositions?${c.toString()}`);if(!d.ok)throw Error("Failed to fetch compositions");return await d.json()}catch(a){return console.error("Error fetching compositions:",a),[]}}async saveComposition(a){try{console.log("hybridStorage.saveComposition called with:",a);let b=await fetch("/api/compositions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(console.log("API response status:",b.status),console.log("API response ok:",b.ok),!b.ok){let a=await b.text();throw console.error("API error response:",a),Error(`Failed to save composition: ${b.status} ${a}`)}let c=await b.json();return console.log("API success response:",c),c}catch(a){return console.error("Error saving composition:",a),null}}async updateComposition(a){try{let b=await fetch("/api/compositions",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)throw Error("Failed to update composition");return await b.json()}catch(a){return console.error("Error updating composition:",a),null}}async deleteComposition(a){try{return(await fetch(`/api/compositions?id=${a}`,{method:"DELETE"})).ok}catch(a){return console.error("Error deleting composition:",a),!1}}async refreshCache(){try{console.log("Refreshing game data cache...");let[a,b,c,e]=await Promise.all([f.getUnits(),f.getTraits(),f.getComponents(),f.getItems()]);this.isClient&&(d.saveUnits(a),d.saveTraits(b),d.saveComponents(c),d.saveItems(e),this.updateCacheMetadata("units"),this.updateCacheMetadata("traits"),this.updateCacheMetadata("components"),this.updateCacheMetadata("items")),console.log("Cache refreshed successfully")}catch(a){console.error("Error refreshing cache:",a)}}clearCache(){if(this.isClient)try{localStorage.removeItem("tft_units"),localStorage.removeItem("tft_traits"),localStorage.removeItem("tft_components"),localStorage.removeItem("tft_items"),localStorage.removeItem("units_metadata"),localStorage.removeItem("traits_metadata"),localStorage.removeItem("components_metadata"),localStorage.removeItem("items_metadata"),console.log("Cache cleared successfully")}catch(a){console.error("Error clearing cache:",a)}}getCacheStatus(){return this.isClient?{units:{valid:this.isCacheValid("units"),lastUpdated:this.getCacheMetadata("units")?.lastUpdated},traits:{valid:this.isCacheValid("traits"),lastUpdated:this.getCacheMetadata("traits")?.lastUpdated},components:{valid:this.isCacheValid("components"),lastUpdated:this.getCacheMetadata("components")?.lastUpdated},items:{valid:this.isCacheValid("items"),lastUpdated:this.getCacheMetadata("items")?.lastUpdated}}:{units:{valid:!1},traits:{valid:!1},components:{valid:!1},items:{valid:!1}}}constructor(){this.isClient=!1}}let h=new g},21891:(a,b,c)=>{"use strict";c.d(b,{default:()=>k});var d=c(60687),e=c(82136),f=c(85814),g=c.n(f),h=c(29255),i=c(42078),j=c(43559);function k(){let{data:a,status:b}=(0,e.useSession)(),{theme:c,toggleTheme:f}=(0,h.D)();return(0,d.jsx)("header",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 shadow-sm",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,d.jsx)(g(),{href:"/",className:"text-xl font-bold text-gray-900 dark:text-white hover:text-gray-700 dark:hover:text-gray-300",children:"\uD83E\uDD2A AJC \uD83E\uDD2A COMPS LIST"}),a&&(0,d.jsx)("nav",{className:"flex space-x-4",children:a.user?.isAdmin?(0,d.jsx)(g(),{href:"/admin",className:"text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Admin"}):(0,d.jsx)(g(),{href:"/settings",className:"text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"User Settings"})})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("button",{onClick:f,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors","aria-label":"Toggle theme",children:"light"===c?(0,d.jsx)(i.A,{className:"h-5 w-5"}):(0,d.jsx)(j.A,{className:"h-5 w-5"})}),"loading"===b?(0,d.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading..."}):a?(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Hello, ",a.user?.name||a.user?.email]}),(0,d.jsx)("button",{onClick:()=>(0,e.signOut)(),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Sign Out"})]}):(0,d.jsx)("button",{onClick:()=>(0,e.signIn)(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Sign In"})]})]})})})}},24597:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Michael\\\\Desktop\\\\GitHub\\\\ajc-comp-library\\\\src\\\\components\\\\Header.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Michael\\Desktop\\GitHub\\ajc-comp-library\\src\\components\\Header.tsx","default")},27721:(a,b,c)=>{"use strict";c.d(b,{ThemeProvider:()=>e});var d=c(61369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Michael\\Desktop\\GitHub\\ajc-comp-library\\src\\context\\ThemeContext.tsx","ThemeProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useTheme() from the server but useTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Michael\\Desktop\\GitHub\\ajc-comp-library\\src\\context\\ThemeContext.tsx","useTheme")},29255:(a,b,c)=>{"use strict";c.d(b,{D:()=>h,ThemeProvider:()=>g});var d=c(60687),e=c(43210);let f=(0,e.createContext)(void 0);function g({children:a}){let[b,c]=(0,e.useState)("light");return(0,d.jsx)(f.Provider,{value:{theme:b,toggleTheme:()=>{c(a=>"light"===a?"dark":"light")}},children:a})}function h(){let a=(0,e.useContext)(f);if(void 0===a)throw Error("useTheme must be used within a ThemeProvider");return a}},58297:(a,b,c)=>{"use strict";c.d(b,{default:()=>f});var d=c(60687),e=c(82136);function f({children:a}){return(0,d.jsx)(e.SessionProvider,{children:a})}},61135:()=>{},61931:(a,b,c)=>{Promise.resolve().then(c.bind(c,58297)),Promise.resolve().then(c.bind(c,21891)),Promise.resolve().then(c.bind(c,29255))},63318:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},74942:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},82935:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Michael\\\\Desktop\\\\GitHub\\\\ajc-comp-library\\\\src\\\\components\\\\AuthProvider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Michael\\Desktop\\GitHub\\ajc-comp-library\\src\\components\\AuthProvider.tsx","default")},94431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>h});var d=c(37413);c(61135);var e=c(82935),f=c(24597),g=c(27721);let h={title:"TFT Composition Library",description:"A library for Teamfight Tactics compositions"};function i({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:"antialiased bg-gray-50 dark:bg-gray-900",children:(0,d.jsx)(g.ThemeProvider,{children:(0,d.jsxs)(e.default,{children:[(0,d.jsx)(f.default,{}),(0,d.jsx)("main",{className:"min-h-screen",children:a})]})})})})}}};